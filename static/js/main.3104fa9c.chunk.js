(this["webpackJsonpsimple-reactjs-app"]=this["webpackJsonpsimple-reactjs-app"]||[]).push([[0],{181:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(15),i=a.n(s),o=a(88),c=a(6),l=a(121),u=a(20),h=a(55),d=a(56),p=a(74),j=a(68),b=a(67),f=a(58),m=a.n(f),g=a(230),O=a(235),v=a(231),x=a(234),w=a(128),k=a(52),y=a(4),C=a(29),N=a(227),R=a(228),S=a(59),I=a(184),E=a(96),M=a(115),G=a(12),B=a(126),L=a.n(B),D=a(127),P=a.n(D),A=a(10),J=Object(M.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(C.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(C.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(G.d)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(G.d)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(C.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function H(e){var t=J();return Object(A.jsx)("div",{className:t.root,children:Object(A.jsx)(N.a,{position:"static",children:Object(A.jsxs)(R.a,{children:[Object(A.jsx)(S.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"open drawer",children:Object(A.jsx)(L.a,{})}),Object(A.jsx)(I.a,{className:t.title,variant:"h6",noWrap:!0,children:"RatingsMap"}),Object(A.jsxs)("div",{className:t.search,children:[Object(A.jsx)("div",{className:t.searchIcon,children:Object(A.jsx)(P.a,{})}),Object(A.jsx)(E.a,{placeholder:"Search",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},onChange:e.onChange})]})]})})})}var T=a(236),W=a(229),q=Object(M.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper}}}));function z(e){var t=q(),a=r.a.useState(0),n=Object(c.a)(a,2),s=n[0],i=n[1],o=Object.entries(e.show);return o.splice(14,1),Object(A.jsxs)("div",{className:t.root,children:[Object(A.jsx)(N.a,{position:"static",color:"default",children:Object(A.jsx)(T.a,{value:s,onChange:function(e,t){i(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example",children:o.map((function(e){var t=Object(c.a)(e,2),a=t[0];t[1];return Object(A.jsx)(W.a,{label:a})}))})}),Object(A.jsx)(O.a,{p:3,children:Object(A.jsx)(I.a,{children:o[s][1]})})]})}var F="darkGreen green goldenRod darkGoldenRod indianRed fireBrick".split(" "),K={palette:{type:"dark"}},Q="https://www.omdbapi.com/";function U(e,t){return m.a.get(Q,{params:{apikey:"14f8eef1",i:e,Season:t}})}var V=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={rows:[],show:{},seasons:[]},n.onChange=n.onChange.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"ImageGridList",value:function(){var e=this;return this.state.rows.length?Object(A.jsx)(g.a,{container:!0,justify:"center",spacing:2,children:this.state.rows.filter((function(e){return"N/A"!==e.Poster})).map((function(t){return Object(A.jsx)(g.a,{item:!0,onClick:function(){return e.handleSelect(t.imdbID)},children:Object(A.jsx)("img",{src:t.Poster,alt:t.Title,width:144})})}))}):Object(A.jsx)("div",{children:"No Shows"})}},{key:"process",value:function(){var e=this.state.seasons;if(!e.length)return!1;var t=[],a=[];e.forEach((function(e){var n={};(e.Episodes||[]).forEach((function(e){n[e.Episode]=e.imdbRating})),t.push(n),a.push(Math.max.apply(Math,Object(u.a)(Object.keys(n).map(Number))))}));for(var n=Math.max.apply(Math,a),r=[{field:"id",headerName:"Season"}],s=1;s<n+1;s++)r.push({field:s,headerName:"E"+s});return t.forEach((function(e,t){return e.id=t+1})),{rows:t,columns:r}}},{key:"RatingsMap",value:function(){var e=this.process();if(!e)return Object(A.jsx)("div",{});var t=this.props.classes;return Object(A.jsxs)(O.a,{className:t.root,children:[Object(A.jsx)(z,{show:this.state.show}),Object(A.jsx)(w.a,Object(o.a)(Object(o.a)({},e),{},{autoHeight:!0,getCellClassName:function(e){if("id"===e.field||!e.value||isNaN(e.value))return"";var t,a=Object(l.a)(F.entries());try{for(a.s();!(t=a.n()).done;){var n=Object(c.a)(t.value,2),r=n[0],s=n[1];if(Number(e.value)>=9-r)return s}}catch(i){a.e(i)}finally{a.f()}return F[F.length-1]}}))]})}},{key:"render",value:function(){return Object(A.jsxs)(v.a,{theme:Object(k.a)(K),children:[Object(A.jsx)(x.a,{}),Object(A.jsxs)("div",{children:[Object(A.jsx)(H,{onChange:this.onChange}),this.ImageGridList(),this.RatingsMap()]})]})}},{key:"onChange",value:function(e){var t,a=this;e.preventDefault(),console.log(e.target.value),(t=e.target.value,m.a.get(Q,{params:{apikey:"14f8eef1",s:t,type:"series"}}).then((function(e){return e.data.Search||[]}))).then((function(e){a.setState({rows:e})}))}},{key:"handleSelect",value:function(e){var t=this;(function(e){return m.a.get(Q,{params:{apikey:"14f8eef1",i:e}}).then((function(e){return e.data||[]}))})(e).then((function(e){t.setState({show:e}),function(e,t){for(var a=[],n=0;n<t;n++)a.push(U(e,n+1));return m.a.all(a).then(m.a.spread((function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.map((function(e){return e.data}))})))}(t.state.show.imdbID,Number(t.state.show.totalSeasons)).then((function(e){t.setState({seasons:e})}))}))}}]),a}(r.a.Component),X=Object(y.a)((function(e){var t={padding:e.spacing(3)};return F.forEach((function(e){t["& ."+e]={backgroundColor:e}})),console.log(t),{root:t}}))(V);i.a.render(Object(A.jsx)(X,{}),document.getElementById("root"))}},[[181,1,2]]]);
//# sourceMappingURL=main.3104fa9c.chunk.js.map