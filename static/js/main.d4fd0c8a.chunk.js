(this["webpackJsonpsimple-reactjs-app"]=this["webpackJsonpsimple-reactjs-app"]||[]).push([[0],{414:function(e,t){},423:function(e,t){},441:function(e,t){},443:function(e,t){},461:function(e,t){},462:function(e,t){},526:function(e,t){},528:function(e,t){},560:function(e,t){},562:function(e,t){},563:function(e,t){},568:function(e,t){},570:function(e,t){},576:function(e,t){},578:function(e,t){},591:function(e,t){},603:function(e,t){},606:function(e,t){},611:function(e,t){},619:function(e,t){},695:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(26),s=n.n(r),o=n(12),c=n(14),l=n(21),u=n(20),d=n(35),p=n(31),h=n(2),b=n(112),j=n(6),m=n(745),f=n(746),O=n(118),g=n(138),y=n(764),x=n(760),v=n(701),w=n(702),k=n(706),S=n(753),C=n(209),T=n(751),N=n(761),A=n(754),E=n(755),D=n(756),F=n(757),B=n(758),M=n(759),R=n(115),I=n(8),G=n(325),L=n(38),V=n(156),H=n(117),z=n.n(H),P=n(215),U=n(750),J=n(762),q=(n(214),n(230)),K=n(24),X=(n(330),n(331),n(3));Object(q.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(p.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(p.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(K.d)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(K.d)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(9),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(p.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));n(763),n(747),Object(q.a)((function(e){return{root:{backgroundColor:e.palette.background.paper}}}));n(343),n(332),n(333),n(334),n(335),n(336),n(337),n(338);Object(q.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper}}}));var Q="darkGreen green goldenRod darkGoldenRod indianRed fireBrick".split(" "),W="https://www.omdbapi.com/";function Y(e){return z.a.get(W,{params:{apikey:"14f8eef1",s:e,type:"series"}}).then((function(e){return e.data.Search||[]}))}function Z(e,t){return z.a.get(W,{params:{apikey:"14f8eef1",i:e,Season:t}})}var $=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={rows:[],show:{},seasons:[]},a.onChange=a.onChange.bind(Object(V.a)(a)),a}return Object(c.a)(n,[{key:"Form",value:function(){var e=this;return Object(X.jsx)("form",{onSubmit:this.handleSubmit.bind(this),children:Object(X.jsx)(P.a,{label:"Search Show",variant:"filled",required:!0,inputRef:function(t){return e.body=t}})})}},{key:"ImageGridList",value:function(){var e=this;return this.state.rows.length?Object(X.jsx)(U.a,{container:!0,justify:"left",spacing:2,children:this.state.rows.filter((function(e){return"N/A"!==e.Poster})).map((function(t){return Object(X.jsx)(U.a,{item:!0,onClick:function(){return e.handleSelect(t.imdbID)},children:Object(X.jsx)("img",{src:t.Poster,alt:t.Title,width:144})})}))}):(J.a,this.state.rows.map((function(e){return Object(X.jsx)(J.a,{component:"div",display:"inline",children:Object(X.jsx)("img",{src:e.Poster,alt:e.Title,width:99})})})))}},{key:"process",value:function(){var e=this.state.seasons;if(!e.length)return!1;var t=[],n=[];e.forEach((function(e){var a={};(e.Episodes||[]).forEach((function(e){a[e.Episode]=e.imdbRating})),t.push(a),n.push(Math.max.apply(Math,Object(L.a)(Object.keys(a).map(Number))))}));for(var a=Math.max.apply(Math,n),i=[{field:"id",headerName:"Season"}],r=1;r<a+1;r++)i.push({field:r,headerName:"E"+r});return t.forEach((function(e,t){return e.id=t+1})),{rows:t,columns:i}}},{key:"RatingsMap",value:function(){var e=this.process();if(!e)return Object(X.jsx)("div",{});var t=this.props.classes;return Object(X.jsx)(J.a,{className:t.root,children:Object(X.jsx)(R.a,Object(d.a)(Object(d.a)({},e),{},{autoHeight:!0,getCellClassName:function(e){if("id"===e.field||!e.value||isNaN(e.value))return"";var t,n=Object(G.a)(Q.entries());try{for(n.s();!(t=n.n()).done;){var a=Object(I.a)(t.value,2),i=a[0],r=a[1];if(Number(e.value)>=9-i)return r}}catch(s){n.e(s)}finally{n.f()}return Q[Q.length-1]}}))})}},{key:"render",value:function(){return Object(X.jsxs)("div",{children:[Object(X.jsx)(g.a,{variant:"h2",children:"RatingsMap"}),this.Form(),Object(X.jsx)("br",{}),this.ImageGridList(),Object(X.jsx)("br",{}),this.RatingsMap()]})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),Y(this.body.value).then((function(e){t.setState({rows:e})}))}},{key:"onChange",value:function(e){var t=this;e.preventDefault(),console.log(e.target.value),Y(e.target.value).then((function(e){t.setState({rows:e})}))}},{key:"handleSelect",value:function(e){var t=this;(function(e){return z.a.get(W,{params:{apikey:"14f8eef1",i:e}}).then((function(e){return e.data||[]}))})(e).then((function(e){t.setState({show:e}),function(e,t){for(var n=[],a=0;a<t;a++)n.push(Z(e,a+1));return z.a.all(n).then(z.a.spread((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){return e.data}))})))}(t.state.show.imdbID,Number(t.state.show.totalSeasons)).then((function(e){t.setState({seasons:e})}))}))}}]),n}(i.a.Component),_=Object(j.a)((function(e){var t={padding:e.spacing(3)};return Q.forEach((function(e){t["& ."+e]={backgroundColor:e}})),console.log(t),{root:t}}))($),ee=n(97),te=n(340),ne=n.n(te),ae=n(207),ie=n.n(ae),re={address:"0x34b41A8f1b89e94F9E50283DD9F3a296C620E2fA",abi:[{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes",name:"TimestampEST",type:"bytes"},{indexed:!1,internalType:"address",name:"From",type:"address"},{indexed:!1,internalType:"address",name:"To",type:"address"},{indexed:!1,internalType:"uint256",name:"Continent",type:"uint256"},{indexed:!1,internalType:"uint256",name:"Value",type:"uint256"},{indexed:!1,internalType:"bytes",name:"Memo",type:"bytes"},{indexed:!1,internalType:"bytes",name:"TxnHash",type:"bytes"}],name:"trans",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"bals",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"time",type:"string"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"cont",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"string",name:"memo",type:"string"},{internalType:"string",name:"hash",type:"string"}],name:"give",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"time",type:"string"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"cont",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"string",name:"memo",type:"string"},{internalType:"string",name:"hash",type:"string"}],name:"take",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}]},se={omdb:"14f8eef1",truffle:"8f7572d1-e253-420a-93bc-2ed8a6f051e6"},oe="id TimestampEST From To Value Memo TxnHash".split(" ").map((function(e){return{field:e}}));function ce(e){return Object(X.jsx)("div",{style:{height:400,width:"100%"},children:Object(X.jsx)(R.a,{rows:e.events,columns:oe,pageSize:5,checkboxSelection:!0,disableSelectionOnClick:!0})})}var le=n(69),ue=["Asia","Africa","North America","South America","Antarctica","Europe","Australia"],de="0x61eB15d8A761Fc80387F50d84Fbf7Ff47a97d92F",pe="0x596Aa50158BFf76F8D08F848d701C83a4F754d9c",he="0xAf951AE00Ab357b8a2cFa66901E0D4D0F96e397B",be=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).send=function(e){return"User"===a.state.agent?a.donate():a.spend()},a.state={agent:"User",continent:0,value:0,memo:""},a}return Object(c.a)(n,[{key:"donate",value:function(){var e=this;this.props.web3.eth.sendTransaction({from:de,to:pe,value:this.state.value}).on("transactionHash",(function(t){e.props.myContract.methods.give((new Date).toISOString(),pe,e.state.continent,e.state.value,"",t).send({from:de})}))}},{key:"spend",value:function(){var e=this;this.props.web3.eth.sendTransaction({from:pe,to:he,value:this.state.value}).on("transactionHash",(function(t){e.props.myContract.methods.give((new Date).toISOString(),he,e.state.continent,e.state.value,e.state.memo,t).send({from:pe})}))}},{key:"render",value:function(){var e=this,t=this.props.classes;return Object(X.jsxs)(U.a,{container:!0,spacing:3,children:[Object(X.jsx)(U.a,{item:!0,xs:1,children:Object(X.jsx)(C.a,{className:t.paper,children:Object(X.jsx)(g.a,{variant:"h6",className:t.title,children:"Form"})})}),Object(X.jsx)(U.a,{item:!0,xs:!0,children:Object(X.jsx)(C.a,{className:t.paper,children:Object(X.jsx)(P.a,{label:"Agent",value:this.state.agent,select:!0,onChange:function(t){return e.setState({agent:t.target.value})},children:"User Charity".split(" ").map((function(e){return Object(X.jsx)(le.a,{value:e,children:e})}))})})}),Object(X.jsx)(U.a,{item:!0,xs:!0,children:Object(X.jsx)(C.a,{className:t.paper,children:Object(X.jsx)(P.a,{label:"Continent",value:this.state.continent,select:!0,onChange:function(t){return e.setState({continent:t.target.value})},children:ue.map((function(e,t){return Object(X.jsx)(le.a,{value:t,children:e})}))})})}),Object(X.jsx)(U.a,{item:!0,xs:!0,children:Object(X.jsx)(C.a,{className:t.paper,children:Object(X.jsx)(P.a,{label:"Amount",type:"number",onChange:function(t){return e.setState({value:t.target.value})}})})}),Object(X.jsx)(U.a,{item:!0,xs:!0,children:Object(X.jsx)(C.a,{className:t.paper,children:Object(X.jsx)(P.a,{label:"Memo (only stored for Charity)",onChange:function(t){return e.setState({memo:t.target.value})}})})}),Object(X.jsx)(U.a,{item:!0,xs:2,children:Object(X.jsx)("div",{className:t.paper,children:Object(X.jsx)(ee.a,{variant:"contained",color:"primary",onClick:this.send,children:"Submit"})})})]})}}]),n}(i.a.Component),je=Object(j.a)((function(e){return{root:{flexGrow:1},title:{padding:e.spacing(1)},paper:{padding:e.spacing(1),display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"}}}))(be),me=Object(q.a)({list:{width:250},fullList:{width:"auto"}}),fe=["Asia","Africa","NorthAmerica","SouthAmerica","Antarctica","Europe","Australia"];function Oe(e){var t=me(),n=i.a.useState({top:!1,left:!1,bottom:!1,right:!1}),a=Object(I.a)(n,2),r=a[0],s=a[1],o=function(e,t){return function(n){("keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&s(Object(d.a)(Object(d.a)({},r),{},Object(p.a)({},e,t)))}},c=function(n){return Object(X.jsx)("div",{className:Object(h.a)(t.list,Object(p.a)({},t.fullList,"top"===n||"bottom"===n)),role:"presentation",onClick:o(n,!1),onKeyDown:o(n,!1),children:Object(X.jsx)(v.a,{children:fe.map((function(t){return Object(X.jsx)(w.a,{children:Object(X.jsx)(S.a,{primary:t+": "+e.bals[t]})})}))})})};return Object(X.jsxs)("div",{children:[Object(X.jsx)(ee.a,{onClick:o("right",!0),children:"Balances"}),["left","right","top","bottom"].map((function(e){return Object(X.jsx)(i.a.Fragment,{children:Object(X.jsx)(y.a,{anchor:e,open:r[e],onClose:o(e,!1),children:c(e)})},e)}))]})}var ge="https://sandbox.truffleteams.com/"+se.truffle,ye=new ne.a(ge),xe=new ye.eth.Contract(re.abi,re.address),ve=["Asia","Africa","NorthAmerica","SouthAmerica","Antarctica","Europe","Australia"];var we=function(){var e=i.a.useState({}),t=Object(I.a)(e,2),n=t[0],a=(t[1],i.a.useState([])),r=Object(I.a)(a,2),s=r[0],o=r[1];function c(e,t){var n=t.map((function(e){return e.returnValues}));n.forEach((function(e,t){e.id=t,e.TimestampEST=ie()(e.TimestampEST),e.Memo=ie()(e.Memo),e.Value=Number(e.Value)})),o(n),console.log(s)}return ve.map((function(e,t){xe.methods.bals(t).call((function(t,a){return n[e]=a}))})),Object(X.jsxs)("div",{children:[Object(X.jsx)(je,{web3:ye,myContract:xe}),Object(X.jsx)(Oe,{bals:n}),Object(X.jsx)(ee.a,{variant:"outlined",color:"secondary",onClick:function(){xe.getPastEvents("trans",{fromBlock:0,toBlock:"latest"},c)},children:"Show Commitments"}),Object(X.jsx)(ce,{events:s})]})},ke=[{icon:Object(X.jsx)(A.a,{}),label:"CryptoCharity",content:Object(X.jsx)(we,{})},{icon:Object(X.jsx)(E.a,{}),label:"RatingsMap",content:Object(X.jsx)(_,{})}],Se=240,Ce={palette:{type:"light"}},Te={palette:{type:"dark"}},Ne=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).setOpen=function(e){return a.setState({open:e})},a.setValue=function(e){return a.setState({value:e})},a.handleDrawerOpen=function(){return a.setState({open:!0})},a.handleDrawerClose=function(){return a.setState({open:!1})},a.switchTheme=function(){return a.setState({theme:!a.state.theme})},a.state={open:!0,value:0,theme:!1},a}return Object(c.a)(n,[{key:"Top",value:function(){var e=this.props.classes;return Object(X.jsx)(m.a,{position:"fixed",className:Object(h.a)(e.appBar,Object(p.a)({},e.appBarShift,this.state.open)),children:Object(X.jsxs)(f.a,{children:[Object(X.jsx)(O.a,{color:"inherit","aria-label":"open drawer",onClick:this.handleDrawerOpen,edge:"start",className:Object(h.a)(e.menuButton,Object(p.a)({},e.hide,this.state.open)),children:Object(X.jsx)(D.a,{})}),Object(X.jsx)(g.a,{variant:"h4",className:e.title,children:"George Fane"}),Object(X.jsxs)(g.a,{variant:"h6",className:e.title,children:["Time: ",(new Date).toLocaleTimeString()]}),Object(X.jsx)(O.a,{edge:"end",color:"inherit","aria-label":"mode",onClick:this.switchTheme,children:this.state.theme?Object(X.jsx)(F.a,{}):Object(X.jsx)(B.a,{})})]})})}},{key:"Side",value:function(){var e,t,n=this,a=this.props.classes;return Object(X.jsxs)(y.a,{variant:"permanent",className:Object(h.a)(a.drawer,(e={},Object(p.a)(e,a.drawerOpen,this.state.open),Object(p.a)(e,a.drawerClose,!this.state.open),e)),classes:{paper:Object(h.a)((t={},Object(p.a)(t,a.drawerOpen,this.state.open),Object(p.a)(t,a.drawerClose,!this.state.open),t))},children:[Object(X.jsx)("div",{className:a.toolbar,children:Object(X.jsx)(O.a,{onClick:this.handleDrawerClose,children:Object(X.jsx)(M.a,{})})}),Object(X.jsx)(x.a,{}),Object(X.jsx)(v.a,{children:ke.map((function(e,t){return Object(X.jsxs)(w.a,{button:!0,onClick:function(){return n.setValue(t)},children:[Object(X.jsx)(k.a,{style:{color:e.color},children:e.icon}),Object(X.jsx)(S.a,{style:{color:e.color},primary:e.label})]})}))})]})}},{key:"Bottom",value:function(){var e=this.props.classes;return Object(X.jsxs)(C.a,{className:e.content,children:[Object(X.jsx)("div",{className:e.toolbar}),ke[this.state.value].content]})}},{key:"DataGridDemo",value:function(e){if(!e.length)return Object(X.jsx)("div",{children:"No Rows"});var t=[{field:"id"}].concat(Object.keys(e[0]).map((function(e){return{field:e,width:200}})));e.forEach((function(e,t){return e.id=t}));var n={rows:e,columns:t,pageSize:5,autoHeight:!0};return Object(X.jsx)("div",{style:{height:400,width:"100%"},children:Object(X.jsx)(R.a,Object(d.a)({},n))})}},{key:"render",value:function(){var e=this.props.classes,t=Object(b.a)(this.state.theme?Ce:Te);return Object(X.jsx)(T.a,{theme:t,children:Object(X.jsxs)("div",{className:e.root,children:[Object(X.jsx)(N.a,{}),this.Top(),this.Side(),this.Bottom()]})})}}]),n}(i.a.Component),Ae=Object(j.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex",height:"100%"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:Se,width:"calc(100% - ".concat(Se,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:Se,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:Se,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(p.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(d.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)},title:{flexGrow:1}}}))(Ne);s.a.render(Object(X.jsx)(Ae,{}),document.getElementById("root"))}},[[695,1,2]]]);
//# sourceMappingURL=main.d4fd0c8a.chunk.js.map